---
title: Best Time to Buy and Sell Stock II
difficulty: Medium
topics:
  - array
  - DynamicProgramming
  - Greedy
tags:
  - Algorithms
  - coding
  - DSA
  - leetcode
date: 2025-10-22
time: 20:00
leetcode_id: 122
solved: true
review:
---
[[LeetCode]]
[[SWE Prep]]
## [Problem](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/description/)
You are given an integer array `prices` where `prices[i]` is the price of a given stock on the `ith` day.

On each day, you may decide to buy and/or sell the stock. You can only hold **at most one** share of the stock at any time. However, you can sell and buy the stock multiple times on the **same day**, ensuring you never hold more than one share of the stock.

Find and return _the **maximum** profit you can achieve_.

**Example 1:**

**Input:** prices = [7,1,5,3,6,4]
**Output:** 7
**Explanation:** Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4.
Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.
Total profit is 4 + 3 = 7.

**Example 2:**

**Input:** prices = [1,2,3,4,5]
**Output:** 4
**Explanation:** Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.
Total profit is 4.

**Example 3:**

**Input:** prices = [7,6,4,3,1]
**Output:** 0
**Explanation:** There is no way to make a positive profit, so we never buy the stock to achieve the maximum profit of 0.

**Constraints:**

- `1 <= prices.length <= 3 * 104`
- `0 <= prices[i] <= 104`


## My Approach
### Time: $O(n)$

Very straightforward approach, I initially overthought it. Since we can buy multiple times on the same day, this is turned into an interval problem. 

The amount of profit we get from \[1, 4, 7, 100\] is the same as \[1,100\], so we can just look at the next index and decide if we want to buy or sell. 
The case of \[1, 4, 2, ,4, 8\] is also the same as \[1, 4\] and \[2, 8\], so if we just ignore any case where our profit would go down, we have a solution for our problem.

```python
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        profit = 0
        n = 0
        while n < len(prices) - 1:
            profit += max(0, prices[n + 1] - prices[n])
            n += 1

        return profit
```


---
## Solution




---
## Related Problems
```dataview
TABLE difficulty, topics
FROM "LeetCode"
FLATTEN topics AS topic
WHERE contains(this.topics, topic) AND file.name != this.file.name
```