---
title: Same Tree
difficulty: Easy
topics:
  - Tree
  - DFS
  - BFS
  - Binary Tree
tags:
  - Algorithms
  - coding
  - DSA
  - leetcode
  - Trees
date: 2025-03-27
time: 8:27
leetcode_id: 100
solved: true
review: true
---
[[LeetCode]]
[[Trees]]
## [Problem](https://leetcode.com/problems/same-tree/)
Given the roots of two binary trees `p` and `q`, write a function to check if they are the same or not.

Two binary trees are considered the same if they are structurally identical, and the nodes have the same value.

**Example 1:**

![](https://assets.leetcode.com/uploads/2020/12/20/ex1.jpg)

**Input:** p = [1,2,3], q = [1,2,3]
**Output:** true

**Example 2:**

![](https://assets.leetcode.com/uploads/2020/12/20/ex2.jpg)

**Input:** p = [1,2], q = [1,null,2]
**Output:** false

**Example 3:**

![](https://assets.leetcode.com/uploads/2020/12/20/ex3.jpg)

**Input:** p = [1,2,1], q = [1,1,2]
**Output:** false

**Constraints:**

- The number of nodes in both trees is in the range `[0, 100]`.
- `-104 <= Node.val <= 104`



## My Approach
### Time: O(n)

```python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def isSameTree(self, p: Optional[TreeNode], q: Optional[TreeNode]) -> bool:
        curr1 = p
        curr2 = q
  
        stack1 = []
        stack2 = []
  
        while curr1 or curr2 or stack1 or stack2:
            while curr1 and curr2:
                stack1.append(curr1)
                stack2.append(curr2)
                curr1, curr2 = curr1.left, curr2.left
            if curr1 and not curr2 or not curr1 and curr2:
                return False
  
            curr1, curr2 = stack1.pop(), stack2.pop()
            if curr1.val != curr2.val:
                return False
            curr1, curr2 = curr1.right, curr2.right
        return True
```
We implement an iterative DFS traversal of both tree simultaneously. As we traverse down both trees, if one of the values doesn’t match up, or we run into a leaf where there should be a branch, we know that the tree’s aren’t the same. Once the stacks are empty, we know that both trees are the same.


---
## Solution




---
## Related Problems
```dataview
TABLE difficulty, topics
FROM "LeetCode"
FLATTEN topics AS topic
WHERE contains(this.topics, topic) AND file.name != this.file.name
```